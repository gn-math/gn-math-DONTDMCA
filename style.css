/* Combined and improved stylesheet for Noahs-Calculus-Tutor
   - Merges the original inline index.html styling (dark + orange "matrix" theme)
     with a modern, componentized design inspired by gn-math/style.css
   - Adds theme variants (orange default + rose/primary variant), better layout,
     accessibility, reduced-motion support, and reusable components (cards, popups)
*/

/* =========================
   Theme variables & modes
   ========================= */
:root{
  /* Orange / matrix base (matches index.html) */
  --orange-primary: #c27c15;
  --orange-accent: #e69500;

  /* Rose / modern accent (from gn-math) */
  --rose-primary: #fc2651;
  --rose-accent: #8b5cf6;

  /* Active primary variables (defaults to orange palette) */
  --primary: var(--orange-primary);
  --primary-hover: #d48a1e;
  --primary-light: rgba(194,124,21,0.08);
  --accent: var(--orange-accent);

  /* Neutral */
  --bg: #0a0a0a;           /* dark background used in index.html */
  --bg-elev: #151515;
  --surface: linear-gradient(145deg,#151515,#0a0a0a);
  --muted: #8a8a8a;
  --text: #f4f4f4;
  --glass: rgba(255,255,255,0.03);

  /* Spacing / sizing */
  --max-width: 1200px;
  --radius: 10px;
  --radius-sm: 6px;

  /* Shadows */
  --shadow-sm: 0 6px 18px rgba(0,0,0,0.55);
  --shadow-md: 0 10px 30px rgba(0,0,0,0.7);
  --glow: 0 0 18px rgba(194,124,21,0.28);

  /* Misc */
  --glass-strong: rgba(255,255,255,0.06);
  --transition: 250ms cubic-bezier(.2,.9,.32,1);
  --stack-gap: 18px;
}

/* Alternate "rose" theme (inspired by gn-math) */
/* Add .theme-rose on body or html to enable */
.theme-rose{
  --primary: var(--rose-primary);
  --primary-hover: #ff4d75;
  --primary-light: rgba(252,38,81,0.08);
  --accent: var(--rose-accent);
  --glow: 0 0 20px rgba(252,38,81,0.18);
}

/* Dark-mode class from gn-math (if used, it will shift many tones) */
.dark-mode{
  --bg: #0f172a;
  --bg-elev: #1e293b;
  --surface: linear-gradient(135deg,#1e293b,#334155);
  --text: #e6eefb;
  --muted: #94a3b8;
}

/* =========================
   Base reset & utilities
   ========================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Courier New", monospace;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.6;
  transition: background var(--transition), color var(--transition);
}

/* Accessibility */
:focus{outline-offset:3px}
a{color:inherit}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important}
}

/* =========================
   Layout containers
   ========================= */
#matrix-bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  z-index:-1;
  opacity:.28;
  display:block;
  background:transparent; /* canvas draws here */
}

.container{
  max-width:var(--max-width);
  margin:0 auto;
  padding:28px 20px 120px;
  transition: transform var(--transition);
}

/* Header */
header{
  text-align:center;
  padding:26px 12px;
  margin-bottom:32px;
  position:relative;
  border-bottom:1px solid rgba(255,255,255,0.03);
}

.logo-container{display:flex;justify-content:center;align-items:center;margin-bottom:16px}
.logo{
  height:110px;
  width:auto;
  border-radius:12px;
  box-shadow:var(--glow);
  border:2px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
  object-fit:contain;
}

/* tagline & terminal prompt (kept from index.html, modernized) */
.tagline{
  color:var(--primary);
  font-size:1.05rem;
  margin-top:6px;
  text-shadow:0 0 6px rgba(0,0,0,0.6);
  font-weight:600;
}

.terminal-prompt{
  margin:18px auto 0;
  padding:14px;
  max-width:980px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.03);
  box-shadow:var(--shadow-sm);
  font-family: "Courier New", monospace;
  color:var(--text);
}
.prompt-line{margin:8px 0;color:var(--primary);font-weight:600}
.typing{
  overflow:hidden;
  white-space:nowrap;
  border-right:2px solid var(--primary);
  animation: typing 3.6s steps(40,end), blink-caret .75s step-end infinite;
}
@keyframes typing{from{width:0}to{width:100%}}
@keyframes blink-caret{from,to{border-color:transparent}50%{border-color:var(--primary)}}

/* =========================
   Section headings
   ========================= */
h2{
  color:var(--primary);
  margin:26px auto;
  font-size:1.5rem;
  text-transform:uppercase;
  letter-spacing:2px;
  text-shadow:0 0 6px rgba(0,0,0,0.3);
  display:inline-block;
  padding:10px 20px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.03);
  background: linear-gradient(145deg, rgba(255,255,255,0.01), rgba(255,255,255,0.002));
}

/* Add terminal-style brackets if desired (keeps original flair) */
h2::before{content:'[';color:var(--accent);margin-right:8px}
h2::after{content:']';color:var(--accent);margin-left:8px}

/* =========================
   Search
   ========================= */
.search-container{
  max-width:680px;
  margin:24px auto;
  position:relative;
}
.search-box{
  width:100%;
  padding:14px 50px 14px 18px;
  background: rgba(255,255,255,0.02);
  border:2px solid rgba(255,255,255,0.04);
  border-radius:999px;
  color:var(--text);
  font-size:1.05rem;
  outline:none;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6);
}
.search-box:focus{
  box-shadow:0 0 30px rgba(0,0,0,0.5);
  border-color:var(--accent);
}
.search-box::placeholder{color:var(--muted)}
.search-icon{
  position:absolute;
  right:18px;
  top:50%;
  transform:translateY(-50%);
  color:var(--primary);
  font-size:1.25rem;
  pointer-events:none;
}
.search-stats{ text-align:center;color:var(--primary);margin-top:10px;font-size:0.92rem }
.no-results{
  text-align:center;color:var(--muted);font-size:1.02rem;margin:36px 0;padding:16px;
  background:rgba(255,255,255,0.01);border-radius:8px;border:1px solid rgba(255,255,255,0.02);
}

/* =========================
   Lessons grid & cards
   ========================= */
.lessons-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap:20px;
  margin-top:18px;
}

.lesson-card{
  background:var(--surface);
  border:1px solid rgba(255,255,255,0.03);
  border-radius:var(--radius);
  padding:14px;
  overflow:hidden;
  position:relative;
  cursor:pointer;
  transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition);
  box-shadow:var(--shadow-sm);
  min-height:220px;
  display:flex;
  flex-direction:column;
}
.lesson-card:focus{outline:3px solid rgba(0,0,0,0.1)}
.lesson-card:hover{
  transform:translateY(-8px);
  box-shadow:var(--shadow-md);
  border-color: rgba(255,255,255,0.06);
}

.lesson-image{
  width:100%;
  height:160px;
  object-fit:cover;
  border-radius:8px;
  margin-bottom:12px;
  border:1px solid rgba(255,255,255,0.03);
  background: linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.55));
}

.lesson-title{ font-size:1.15rem; color:var(--text); margin:6px 0; font-weight:700; }
.lesson-desc{ color:var(--muted); font-size:0.92rem; margin-bottom:12px; flex:0 0 auto; min-height:40px; }
.launch-command{
  color:var(--primary);
  font-size:0.9rem;
  font-weight:800;
  display:inline-block;
  padding:6px 10px;
  border-radius:6px;
  border:1px solid rgba(255,255,255,0.02);
  background:transparent;
  align-self:flex-start;
}
.lesson-card:hover .launch-command{
  background:var(--primary-light);
  box-shadow: 0 6px 18px rgba(0,0,0,0.3);
}

/* Responsive card minor adjustments */
@media (max-width:900px){
  .lesson-image{height:140px}
  .lessons-grid{grid-template-columns: repeat(auto-fill, minmax(220px,1fr))}
}
@media (max-width:600px){
  .container{padding:18px 12px 100px}
  .logo{height:72px}
  .lessons-grid{grid-template-columns: repeat(auto-fill, minmax(180px,1fr)); gap:14px}
  .lesson-image{height:120px}
  h2{font-size:1.05rem;padding:8px 14px}
}

/* =========================
   Game page overlay / frame
   (from index + gn-math viewer styles)
   ========================= */
.game-page{
  position:fixed;
  inset:0;
  background: linear-gradient(180deg, rgba(10,10,10,0.96), rgba(20,20,20,0.98));
  z-index:1200;
  display:none;
  transform:translateY(100%);
  transition: transform .45s cubic-bezier(.2,.9,.32,1);
  flex-direction:column;
}
.game-page.active{ display:flex; transform:translateY(0) }

.game-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 18px;
  background: rgba(255,255,255,0.01);
  border-bottom:1px solid rgba(255,255,255,0.03);
}
.game-title{ color:var(--primary); font-size:1.25rem; font-weight:700; }

.game-container{
  padding:20px;
  text-align:center;
  height: calc(100vh - 70px);
  display:flex;
  flex-direction:column;
}
.game-frame, .game-placeholder{
  flex:1;
  width:100%;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.03);
  background: rgba(25,25,25,0.6);
}

/* Buttons */
.btn{
  padding:8px 14px;
  background:transparent;
  color:var(--primary);
  border:1px solid rgba(255,255,255,0.04);
  border-radius:8px;
  cursor:pointer;
  transition: transform var(--transition), box-shadow var(--transition);
}
.btn:hover{ transform:translateY(-3px); box-shadow:var(--glow) }

.fullscreen-btn{
  padding:10px 18px;
  border:2px solid var(--primary);
  border-radius:8px;
  color:var(--primary);
  background:transparent;
  font-weight:700;
}
.fullscreen-btn:hover{ background:var(--primary-light); transform:scale(1.03) }

/* =========================
   Popup / modal (gn-math inspired)
   ========================= */
#popupOverlay{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(8px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
  padding:1rem;
}
.popup{
  background: linear-gradient(180deg, var(--bg-elev), rgba(255,255,255,0.01));
  border-radius:12px;
  box-shadow:var(--shadow-md);
  width:100%;
  max-width:560px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.03);
}
.popup-header{
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color:var(--text);
  padding:14px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
#popupTitle{ font-weight:800; font-size:1.1rem }
#popupBody{ padding:16px; color:var(--text) }
#popupClose{
  background:transparent;border:0;color:var(--text);cursor:pointer;padding:8px;border-radius:8px;
}
#popupClose:hover{ background:var(--glass) }

/* Form fields inside popup (keeps index style) */
#popupBody input[type="text"], #popupBody input[type="file"]{
  width:100%;
  padding:10px 12px;
  margin-bottom:12px;
  border:1px solid rgba(255,255,255,0.04);
  border-radius:8px;
  background:rgba(255,255,255,0.01);
  color:var(--text);
}

/* =========================
   Footer
   ========================= */
footer{
  background: rgba(255,255,255,0.01);
  border-top:1px solid rgba(255,255,255,0.02);
  padding:18px 12px;
  text-align:center;
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  z-index:100;
  color:var(--muted);
  font-size:0.92rem;
}
.footer-links{ display:flex; justify-content:center; gap:1.25rem; flex-wrap:wrap; }
.footer-links a{
  color:var(--primary);
  text-decoration:none;
  font-weight:700;
  padding:6px 12px;
  border-radius:8px;
}
.footer-links a:hover{ background:var(--glass) }

/* =========================
   Comments section blur / acknowledge (index-specific)
   ========================= */
.comments-section{
  max-width:var(--max-width);
  margin:34px auto;
  padding:18px;
  background: rgba(20,20,20,0.65);
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.02);
  position:relative;
}
.blur-overlay{
  position:absolute; inset:0;
  background: rgba(0,0,0,0.86);
  backdrop-filter: blur(12px);
  display:flex;align-items:center;justify-content:center;border-radius:8px;
  z-index:10;
  transition: opacity var(--transition);
}
.blur-overlay.hidden{ opacity:0; pointer-events:none; }
.warning-content{
  text-align:center; max-width:520px; padding:32px; border-radius:12px;
  background:#111; border:2px solid var(--primary);
  box-shadow: var(--shadow-md);
}
.warning-title{ color:var(--primary); margin-bottom:12px; font-size:1.25rem }
.acknowledge-btn{
  background:var(--primary); color:#000; border:none; padding:12px 34px; border-radius:999px;
  cursor:pointer; font-weight:800;
}
.acknowledge-btn:hover{ background:var(--accent); transform:translateY(-3px); box-shadow:var(--glow) }

/* =========================
   Padlet embed
   ========================= */
.padlet-embed{
  border:1px solid rgba(255,255,255,0.03);
  border-radius:8px;
  overflow:hidden;
  height:520px;
  background:transparent;
}
.padlet-embed iframe{ width:100%; height:100%; display:block }

/* =========================
   Social icons
   ========================= */
.social-icons{
  position:absolute;
  top:18px;
  right:18px;
  display:flex;
  gap:14px;
  z-index:10;
}
.social-icons a{
  color:var(--primary); font-size:1.2rem; display:inline-flex; align-items:center; justify-content:center;
  transition: transform var(--transition), color var(--transition);
}
.social-icons a:hover{ color:var(--accent); transform:translateY(-3px); text-shadow:0 0 10px rgba(0,0,0,0.5) }

/* =========================
   Small helpers
   ========================= */
.hidden{ display:none !important; }
.center{ display:flex; align-items:center; justify-content:center; }
.card-row{ display:flex; gap:12px; align-items:center }

/* =========================
   Responsive tweaks
   ========================= */
@media (max-width:768px){
  .logo{height:80px}
  .search-container{ margin: 18px 12px; }
  .terminal-prompt{ padding:10px }
  .game-controls{ flex-direction:column; gap:10px }
  .padlet-embed{ height:420px }
}
@media (max-width:480px){
  .logo{height:64px}
  .lessons-grid{ grid-template-columns: repeat(auto-fill, minmax(140px,1fr)); gap:12px }
  .lesson-image{ height:100px }
  header{ padding:16px 8px }
  footer{ padding:12px 8px }
}

/* =========================
   End of file
   ========================= */
